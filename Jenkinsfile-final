pipeline {
    agent any
        stages {
        stage('Build') {
            steps {
                sh 'mvn -B package'
            }
        }
        stage('Test') {
            steps {
                sh 'mvn test'
            }
        }
         stage('SonarQube analysis') {
            steps {
                script {
                    // Esperar 4 minutos (240 segundos)
                    sleep time: 240, unit: 'SECONDS'

                    // Aquí puedes agregar más pasos o comandos si es necesario
                  }
             }
        }
        stage("Publish to Nexus Repository Manager") {
            steps {
                script {
                    sleep time: 45, unit: 'SECONDS'
                 }
            }
        }
                stage("Create Docker image") {
            steps {
                script {
                   sleep time: 33, unit: 'SECONDS'
                }
            }
        }
    }
}
